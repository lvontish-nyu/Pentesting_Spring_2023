#include <stdlib.h>
#include <stdio.h>
#include <string.h>

int main(int argc, char *argv[]) {
	char buffer[20];
	if (argc < 2) {
		printf("Must supply a password! ");
		return 1;
	}
	strcpy(buffer,argv[1]);				//read in password
	if(strcmp(buffer, "free_dobby")) {	//check password
		printf("Sorry friend, but that password is incorrect\n");	
	} else {
		adminFunctions();
	}
}

void adminFunctions() {
	printf("Welcome, Master Dobby!\n");
	system("id; cat /etc/shadow");
	return;
}
