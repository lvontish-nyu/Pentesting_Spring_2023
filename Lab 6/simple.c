#include <stdio.h>

int main() {
	char password[20];	//this buffer will store our password
	int privs = 0; 		//this int defines our priv level, 0 is lowest level

	printf("\nEnter your admin password: ");
	gets(password);		//gets is a dangerous function, does no bounds checking

	if(!strcmp(password, "free_dobby")) {
		privs = 1;
	} else {
		printf("Sorry friend, but that password is incorrect\n");	
	}	

	if (privs != 0) {
		adminFunctions();
	}
	return 0;
}

void adminFunctions() {
	printf("Welcome, Master Dobby!\n");
	system("id; cat /etc/shadow");
	return;
}
